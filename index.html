<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>â¤ï¸</title>

<style>
body{
  margin:0;
  height:100vh;
  background:linear-gradient(#ffd6e0,#fff);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Arial;
  overflow:hidden;
}

.box{
  width:370px;
  background:white;
  padding:25px;
  border-radius:25px;
  box-shadow:0 20px 50px rgba(0,0,0,.2);
  text-align:center;
  animation:fade .7s;
}

@keyframes fade{
  from{opacity:0; transform:translateY(30px)}
  to{opacity:1; transform:translateY(0)}
}

button{
  padding:10px 22px;
  margin:8px;
  border:none;
  border-radius:25px;
  background:#ff4d6d;
  color:white;
  font-size:15px;
  cursor:pointer;
  transition:.3s;
}
button:hover{transform:scale(1.05)}

.animals{
  position:relative;
  height:160px;
  margin-top:15px;
}
.animal{
  position:absolute;
  bottom:0;
  width:130px;
}
.left{left:0}
.right{
  right:0;
  animation:kiss 1.2s infinite alternate;
}
@keyframes kiss{
  from{transform:translateX(0)}
  to{transform:translateX(-30px)}
}

.heart{
  position:fixed;
  bottom:-20px;
  animation:float 5s linear infinite;
}
@keyframes float{
  from{transform:translateY(0);opacity:1}
  to{transform:translateY(-110vh);opacity:0}
}

.small{
  font-size:12px;
  color:#888;
  margin-top:10px;
}
</style>
</head>

<body>

<div class="box" id="box">ØªØ­Ù…ÙŠÙ„...</div>

<!-- Ø£ØµÙˆØ§Øª -->
<audio id="bgm" src="https://cdn.pixabay.com/audio/2022/10/25/audio_7f6bfc48c5.mp3" loop></audio>
<audio id="click" src="https://www.soundjay.com/buttons/sounds/button-16.mp3"></audio>

<script>
const box = document.getElementById("box");
  let views = "â€”";
start();

const bgm = document.getElementById("bgm");
const click = document.getElementById("click");
/* Ø¹Ø¯Ø§Ø¯ Ø²ÙˆØ§Ø± Ø­Ù‚ÙŠÙ‚ÙŠ */
let views = 0;
  .then(res => res.json())
  .then(data => {
    views = data.value;
    start();
  })
  .catch(() => {
    views = "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
    start();
  });


let step = 0;
let score = 0;

function start(){
render({
text:`Ø£Ù‡Ù„Ù‹Ø§ <b>${name}</b> ğŸ‘€<br><br>
ÙÙŠ ${views} Ø´Ø®Øµ Ø¯Ø®Ù„ÙˆØ§ Ù„Ù‡ÙˆÙ†<br>
Ø¨Ø³ ÙƒÙ„ ÙˆØ§Ø­Ø¯ Ù‚ØµØªÙ‡ ØºÙŠØ±`,
buttons:[{t:"ÙƒÙ…Ù‘Ù„", n:1}]
});
}

const story = [
{
text:`ÙÙŠ Ù†Ø§Ø³ Ø¨ØªÙŠØ¬ÙŠ Ø­ÙŠØ§ØªÙƒ<br>ÙˆØªØºÙŠÙ‘Ø± Ø§Ù„Ø¬Ùˆ Ø¨Ø¯ÙˆÙ† Ù…Ø§ ØªØ­Ø§ÙˆÙ„`,
buttons:[{t:"ØµØ­ÙŠØ­", n:2}]
},
{
text:`ÙˆÙ„Ù…Ø§ ØªØ±ØªØ§Ø­ Ù…Ø¹Ù‡Ù…<br>Ø¨ØªÙÙ‡Ù… Ø¥Ù† Ø§Ù„Ø±Ø§Ø­Ø© Ù…Ø´ ØµØ¯ÙØ©`,
buttons:[
{t:"Ø£ÙƒÙŠØ¯", n:3, s:1},
{t:"ÙŠÙ…ÙƒÙ†", n:3, s:0}
]
},
{
text:`Ø·ÙŠØ¨ Ø³Ø¤Ø§Ù„ ØµØ±ÙŠØ­<br>${name} Ù„Ù…Ø§ ØªØ­Ø¨`,
buttons:[
{t:"ØªØ­Ø¨ ØªØ·Ù…Ù‘Ù†", n:4, s:1},
{t:"ØªØ­Ø¨ Ø§Ù„Ø´ØºÙ", n:4, s:2}
]
}
];

function render(s){
box.innerHTML=`
<div style="line-height:1.6">${s.text}</div>
<div>
${s.buttons.map(b=>`<button onclick="go(${b.n},${b.s||0})">${b.t}</button>`).join("")}
</div>
<div class="small">Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙˆØ§Ø± ${views}</div>
`;
}

function go(n,add){
click.play();
bgm.play();
score += add;

if(n===4){
end();
return;
}
render(story[n-1]);
}

function end(){
let text="", img1="", img2="";

if(score>=3){
text=`
${name} Ø§Ø®ØªÙŠØ§Ø±Ùƒ ÙˆØ§Ø¶Ø­ â¤ï¸<br>
ØªØ­Ø¨ Ø­Ø¨ Ø¯Ø§ÙÙŠ<br>
ÙŠØ·Ù…Ù†Ùƒ ÙˆÙŠÙ‚Ø±Ø¨Ùƒ<br>
Ø¨Ø¯ÙˆÙ† Ø¶ØºØ·`;
}else{
text=`
${name} ØªØ­Ø¨ Ø§Ù„Ø­Ø¨ Ø§Ù„Ù„ÙŠ ÙÙŠÙ‡ Ø­Ø±ÙƒØ© ğŸ˜Œ<br>
Ø´ØºÙØŒ Ø·Ø§Ù‚Ø©<br>
ÙˆØ¥Ø­Ø³Ø§Ø³ Ø¥Ù†Ùƒ Ø­ÙŠ`;
}

img1="https://i.imgur.com/9QO7YbK.png";
img2="https://i.imgur.com/oYiTqum.png";

box.innerHTML=`
<h3>${text}</h3>
<div class="animals">
  <img class="animal left" src="${img1}">
  <img class="animal right" src="${img2}">
</div>
<div class="small">Ø¯Ø®Ù„ÙˆØ§ ${views} Ù‚Ø¨Ù„Ùƒ</div>
`;

hearts();
}

function hearts(){
setInterval(()=>{
const h=document.createElement("div");
h.className="heart";
h.innerText="â¤ï¸";
h.style.left=Math.random()*100+"vw";
h.style.fontSize=(15+Math.random()*30)+"px";
document.body.appendChild(h);
setTimeout(()=>h.remove(),5000);
},350);
}
</script>

</body>
</html>
